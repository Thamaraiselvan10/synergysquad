---
// src/pages/achievements.astro
import Layout from '../layouts/Layout.astro';
import Year2023_2024 from '../components/Year2023_2024.astro';
import Year2024_2025 from '../components/Year2024_2025.astro'; // <-- Correctly imported

// Data for 2023-2024
const yearData_2023_2024 = {
    weeklyActivities: [
        { name: 'Pattern Day', date: '21-01-2024' },
        { name: 'Mastering in Array Day', date: '28-01-2024' },
        { name: 'Mastering in Strings Day', date: '04-02-2024' },
        { name: 'C Programming MCQ Day', date: '11-02-2024' },
        { name: 'C Programming Master Class Day', date: '18-02-2024' },
        { name: 'Mock TCS Ninja NQT Challenge Day', date: '25-02-2024' },
        { name: 'Mock Wipro NLTH Challenge Day', date: '10-03-2024' },
        { name: 'Mock Pratian Technologies Challenge Day', date: '24-03-2024' },
    ],
    topperLists: [
        { title: 'WEEK 8: MOCK PRATIAN', imageUrl: '/events-image/week-8.jpeg', toppers: ['Shabari K S (100)', 'Shriyaa S V (100)'] },
        { title: 'WEEK 7: MOCK WIPRO', imageUrl: '/events-image/week-7.jpeg', toppers: ['Anuvarshini T R (100)', 'Rasika S (100)'] },
        { title: 'WEEK 6: MOCK TCS NQT', imageUrl: '/events-image/week-6.jpeg', toppers: ['Vijay K R (100)', 'Vibhav M (100)'] },
        { title: 'WEEK 5: C MASTERCLASS', imageUrl: '/events-image/week-5.jpeg', toppers: ['Vijay K R (100)', 'Vibhav M (100)'] },
        { title: 'WEEK 4: C QUIZATHON', imageUrl: '/events-image/week-4.jpeg', toppers: ['Jeslin Maria Jacob (83)', 'Subasri C (66)'] },
        { title: 'WEEK 3: MASTERING STRINGS', imageUrl: '/events-image/week-3.jpeg', toppers: ['Vibav Mahendran (94)', 'Shriyaa S V (80)'] },
    ]
};

// Data for 2024-2025
const yearData_2024_2025 = {
    weeklyActivities: [
        { name: 'Pattern Programming Exploration Day', date: '30-09-2024' },
        { name: 'Control Flow Mastery Day', date: '06-10-2024' },
        { name: 'Array Optimization Master Class Day', date: '13-10-2024' },
        { name: 'Efficient String Manipulation Day', date: '20-10-2024' },
        { name: 'Hundred - Fold C Proficiency Test', date: '27-10-2024' },
    ],
    topperLists: [
        { title: 'PATTERN PROGRAMMING TOPPERS', imageUrl: '/events-image/week-1.jpeg', toppers: ['Gayathri M (92/100)', 'Ramesh M (90/100)'] },
        { title: 'CONTROL FLOW MASTERY TOPPERS', imageUrl: '/events-image/week-2.jpeg', toppers: ['Bharathi S (92/100)', 'Vigneshwaran M (88/100)'] },
        { title: 'ARRAY OPTIMIZATION TOPPERS', imageUrl: '/events-image/week-3.jpeg', toppers: ['Vigneshwaran M (94/100)', 'Kavitha S (89/100)'] },
    ]
};
---
<Layout title="Achievements Archive - Synergy Squad">
    <div class="archive-header">
        <h1>Achievements Archive</h1>
        <p>A complete history of Synergy Squad's programming activities, challenges, and top performers, organized by academic year.</p>
    </div>
    
    <div class="year-tabs" id="year-tabs">
        <button class="year-tab active" data-target="year-2023-2024">2023-2024</button>
        <button class="year-tab" data-target="year-2024-2025">2024-2025</button>
        <button class="year-tab" data-target="year-2025-2026">2025-2026</button>
    </div>

    <main class="archive-content">
        <!-- Year 2023-2024 Content -->
        <div class="year-content-wrapper is-active" id="year-2023-2024">
            <Year2023_2024 data={yearData_2023_2024} />
        </div>
        <!-- Year 2024-2025 Content -->
        <div class="year-content-wrapper" id="year-2024-2025">
            <Year2024_2025 data={yearData_2024_2025} />
        </div>
        <!-- Year 2025-2026 Content (Placeholder) -->
        <div class="year-content-wrapper" id="year-2025-2026">
             <div class="placeholder-container">
                <p>Data for the 2025-2026 academic year will be announced soon.</p>
            </div>
        </div>
    </main>
</Layout>

<style>
    .archive-header { text-align: center; padding: 4rem 1.5rem 3rem; background-color: #fff; border-bottom: 1px solid var(--border-color); }
    .archive-header h1 { font-size: 3rem; font-weight: 900; margin: 0 0 1rem; }
    .archive-header p { font-size: 1.125rem; color: var(--text-secondary); max-width: 60ch; margin: auto; }
    .year-tabs { display: flex; justify-content: center; gap: 0.5rem; padding: 1.5rem; background-color: var(--background-color); position: sticky; top: 73px; z-index: 5; border-bottom: 1px solid var(--border-color); }
    .year-tab { padding: 0.75rem 1.5rem; border: 1px solid var(--border-color); border-radius: 8px; background-color: #fff; font-weight: 600; cursor: pointer; transition: all 0.3s ease; }
    .year-tab:hover { background-color: var(--primary-color-hover); color: #fff; border-color: var(--primary-color-hover); }
    .year-tab.active { background-color: var(--primary-color); color: #fff; border-color: var(--primary-color); }
    .year-content-wrapper { display: none; }
    .year-content-wrapper.is-active { display: block; }
    .placeholder-container { padding: 4rem 1.5rem; text-align: center; color: var(--text-secondary); }
</style>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const tabs = document.querySelectorAll('.year-tab');
        const contentWrappers = document.querySelectorAll('.year-content-wrapper');
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                tabs.forEach(t => t.classList.remove('active'));
                contentWrappers.forEach(c => c.classList.remove('is-active'));
                tab.classList.add('active');
                const targetId = tab.dataset.target;
                const targetContent = document.getElementById(targetId);
                if (targetContent) {
                    targetContent.classList.add('is-active');
                }
            });
        });
    });
</script>