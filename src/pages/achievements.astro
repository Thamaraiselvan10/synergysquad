---
// src/pages/achievements.astro
import Layout from '../layouts/Layout.astro';
import YearAchievements from '../components/YearAchievements.astro';

// --- THIS IS THE FULL, DETAILED, AND CORRECTLY ORDERED DATA SET ---
const allYearsData = [
    {
        year: '2023-2024',
        title: 'Synergy Squad 1.0: A Strategic Java Programming Initiative',
        summary: 'Focused on final year students, this initiative provided intensive Java refresher training and weekly challenges, resulting in over 75% of members securing placements in Tier-1 IT companies.',
        weeklyActivities: [
            { name: 'Pattern Day', date: '21-01-2024' },
            { name: 'Mastering in Array Day', date: '28-01-2024' },
            { name: 'Mastering in Strings Day', date: '04-02-2024' },
            { name: 'C Programming MCQ Day', date: '11-02-2024' },
            { name: 'C Programming Master Class Day', date: '18-02-2024' },
            { name: 'Mock TCS Ninja NQT Challenge Day', date: '25-02-2024' },
            { name: 'Mock Wipro NLTH Challenge Day', date: '10-03-2024' },
            { name: 'Mock Pratian Technologies Challenge Day', date: '24-03-2024' },
        ],
        topperLists: [
            { title: 'WEEK 7: MOCK WIPRO NLTH', imageUrl: '/events-image/week-7.jpeg', toppers: ['Shabari K S (100)', 'Shriyaa S V (100)', 'Selva Ganapathi (100)'] },
            { title: 'WEEK 6: MOCK TCS NQT', imageUrl: '/events-image/week-6.jpeg', toppers: ['Anuvarshini T R (100)', 'Rasika S (100)', 'Gayathri R (100)'] },
            { title: 'WEEK 5: C MASTERCLASS', imageUrl: '/events-image/week-5.jpeg', toppers: ['Vijay K R (100)', 'Vibhav M (100)', 'Yuvasree M (100)'] },
            { title: 'WEEK 4: C QUIZATHON', imageUrl: '/events-image/week-4.jpeg', toppers: ['Jeslin Maria Jacob (83)', 'Anuvarshini T R (64)', 'Arunthathi (51)'] },
            { title: 'WEEK 3: MASTERING IN STRINGS', imageUrl: '/events-image/week-3.jpeg', toppers: ['Vibav Mahendran (94)', 'Shriyaa S V (80)', 'Saranya A (73)'] },
            { title: 'WEEK 2: MASTERING IN ARRAY', imageUrl: '/events-image/week-2.jpeg', toppers: ['Jeevanandhan (100)', 'Shriyaa S V (100)', 'Vijay K R (100)'] },
            { title: 'WEEK 1: PATTERN DAY', imageUrl: '', toppers: ['Vijay K R (100)', 'Anuvarshini T (92)', 'Keerthana D (92)'] },
        ]
    },
    {
        year: '2024-2025',
        title: 'Synergy Squad 2.0: Scaling the Impact to Pre-Final Years',
        summary: "Following the success of version 1.0, Synergy Squad 2.0 expanded the initiative to III Year CSE students. The identification process was conducted through 7 Mock TCS CodeVita Assessments, preparing them for industry-level coding challenges and enhancing their logical thinking and problem-solving skills.",
        weeklyActivities: [
            { name: 'Pattern Programming Exploration Day', date: '30-09-2024' },
            { name: 'Control Flow Mastery Day', date: '06-10-2024' },
            { name: 'Array Optimization Master Class Day', date: '13-10-2024' },
            { name: 'Efficient String Manipulation Day', date: '20-10-2024' },
            { name: 'Hundred - Fold C Proficiency Test', date: '27-10-2024' },
        ],
        topperLists: [
            { title: 'PATTERN PROGRAMMING TOPPERS', imageUrl: '/events-image/week-1.jpeg', toppers: ['Gayathri M (92/100)', 'Ramesh M (90/100)', 'Kanishka N (50/100)'] },
            { title: 'CONTROL FLOW MASTERY TOPPERS', imageUrl: '/events-image/week-2.jpeg', toppers: ['Bharathi S (92/100)', 'Vigneshwaran M (88/100)', 'Kanishka N (86/100)'] },
            { title: 'ARRAY OPTIMIZATION TOPPERS', imageUrl: '/events-image/week-3.jpeg', toppers: ['Vigneshwaran M (94/100)', 'Vigneshwaran M (92/100)', 'Kavitha S (89/100)'] },
        ]
    },
    {
        year: '2025-2026',
        title: "Synergy Squad 3.0: Elevating Excellence in Pre-Final Years",
        summary: "Building on the foundations laid in the previous versions, Synergy Squad 3.0 continues to empower III Year CSE students with advanced programming skills and industry readiness. The program emphasizes hands-on coding challenges, mock assessments, and real-world problem-solving to prepare members for successful placements in top-tier IT companies.",
        weeklyActivities: [{
        "name": "Pattern Play Day",
        "date": "10-08-2025"
    },
    {
        "name": "Array Mastery Quest Day",
        "date": "17-08-2025"
    },
    {
        "name": "String Hacker's Day",
        "date": "24-08-2025"
    },
    {
        "name": "Century in C Day",
        "date": "31-08-2025"
    },
    {
        "name": "OOPS Explore Day",
        "date": "07-09-2025"
    },
    {
        "name": "TCS Mock Sprint Day",
        "date": "14-09-2025"
    },
    {
        "name": "Wipro Warriors: NLTH Mock Day",
        "date": "21-09-2025"
    },
    {
        "name": "Pratian Prep Battle Day",
        "date": "28-09-2025"
    }],
        topperLists: []
    }
];
---

<Layout title="Achievements Archive - Synergy Squad">
    <div class="archive-header">
        <h1>Achievements Archive</h1>
        <p>A complete history of Synergy Squad's programming activities, challenges, and top performers, organized by academic year.</p>
    </div>

    <div class="year-tabs" id="year-tabs">
        {allYearsData.map((yearData, index) => (
            <button class:list={['year-tab', { active: index === 0 }]} data-target={`year-${yearData.year}`}>
                {yearData.year}
            </button>
        ))}
    </div>

    <main class="archive-content">
        {allYearsData.map((yearData, index) => (
            <div class:list={['year-content-wrapper', { 'is-active': index === 0 }]} id={`year-${yearData.year}`}>
                <YearAchievements data={yearData} />
            </div>
        ))}
    </main>
</Layout>

<style>
    .archive-header {
        text-align: center;
        padding: 4rem 1.5rem 3rem;
        background-color: #fff;
        border-bottom: 1px solid var(--border-color);
    }
    .archive-header h1 { font-size: 3rem; font-weight: 900; margin: 0 0 1rem; }
    .archive-header p { font-size: 1.125rem; color: var(--text-secondary); max-width: 60ch; margin: auto; }
    .year-tabs {
        display: flex;
        justify-content: center;
        gap: 0.5rem;
        padding: 1.5rem;
        background-color: var(--background-color);
        position: sticky;
        top: 73px;
        z-index: 5;
        border-bottom: 1px solid var(--border-color);
    }
    .year-tab {
        padding: 0.75rem 1.5rem;
        border: 1px solid var(--border-color);
        border-radius: 8px;
        background-color: #fff;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    .year-tab:hover {
        background-color: var(--primary-color-hover);
        color: #fff;
        border-color: var(--primary-color-hover);
    }
    .year-tab.active {
        background-color: var(--primary-color);
        color: #fff;
        border-color: var(--primary-color);
    }
    
    .year-content-wrapper { display: none; }
    .year-content-wrapper.is-active { display: block; }
</style>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const tabs = document.querySelectorAll('.year-tab');
        const contentWrappers = document.querySelectorAll('.year-content-wrapper');

        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                tabs.forEach(t => t.classList.remove('active'));
                contentWrappers.forEach(c => c.classList.remove('is-active'));
                tab.classList.add('active');
                const targetId = tab.dataset.target;
                const targetContent = document.getElementById(targetId);
                if (targetContent) {
                    targetContent.classList.add('is-active');
                }
            });
        });
    });
</script>